<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather in Ukraine </title>
    <link rel="stylesheet" href="lera1.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>
  <body>
    <span class ="all">
        <h1>
            Kharkiv
        </h1>
        <form id="city-form">
            <input type="text" placeholder="Enter a city" id="city"/>
            <input type="submit" value="Search" />
        </form>
        <p class="nika">
            <div class="row">
                <div class="col-6">
                    <span id="day">
                        Tuesday
                    </span>
                    <span id="times">
                        18:00
                    </span>
                    <span id="sun">
                        sun and clouds
                    </span>
                    <br />
                    <span id="hum">
                        Humidity: 46%
                    </span>
                    <br />
                    <span id="wid">
                        Wind: 9 km/h
                    </span>
                </div>
                <div class="col-6">
                    <span id="val">
                        20°C
                    </span>
                </div>
            </div>
        </p>
    <span class="lol">
        <div class="row">
            <div class="col">
                <span id="firstd">
                    Mon
                </span>
                <br />
                <span id="firsti">
                    <img src="https://cdn-icons-png.flaticon.com/512/2932/2932445.png" />
                </span>
                <br />
                <span id="firstt">
                    21°C
                </span>
            </div>
            <div class="col">
                <span id="secondd">
                    Mon
                </span>
                <br />
                <span id="secondi">
                    <img src="https://cdn-icons-png.flaticon.com/512/2948/2948175.png" />
                </span>
                <br />
                <span id="secondt">
                    21°C
                </span>
            </div>
            <div class="col">
                <span id="thirdd">
                    Mon
                </span>
                <br />
                <span id="thirdi">
                    <img src="https://cdn-icons-png.flaticon.com/512/2932/2932445.png"/>
                </span>
                <br />
                <span id="thirdt">
                    21°C
                </span>
            </div>
            <div class="col">
                <span id="fourthd">
                    Mon
                </span>
                <br />
                <span id="fourthi">
                    <img src="https://cdn-icons-png.flaticon.com/512/8003/8003100.png"/>
                </span>
                <br />
                <span id="fourtht">
                    21°C
                </span>
            </div>
            <div class="col">
                <span id="fifthd">
                    Mon
                </span>
                <br />
                <span id="fifthi">
                    <img src="https://cdn-icons-png.flaticon.com/512/2932/2932445.png"/>
                </span>
                <br />
                <span id="fiftht">
                    21°C
                </span>
            </div>
        </div>
    </span>
    </br>
    </br>
    <p id="bottom">
        This project was coded by Valeriia Svyrydova 
        </br>
        And is 
        <a href="https://github.com/svwiridovwa/hii/blob/main/index.html">Open-source on GitHub</a>
        and 
        <a href="">hosted on Netlify</a>
    </p>
    </span>




    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"
    ></script>



    <script >
        let time = new Date();
        let timeNow = document.querySelector("#times");
        let a = document.querySelector("#day");
        let days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        a.innerHTML = days[time.getDay()];
        timeNow.innerHTML = time.getHours() + ":" + time.getMinutes() + ",";
        if (time.getMinutes() < 10)
        {
            timeNow.innerHTML = time.getHours() + ":0" + time.getMinutes() + ",";
        }
        if (time.getHours() < 10)
        {
            timeNow.innerHTML = "0" + time.getHours() + ":" + time.getMinutes() + ",";
        }
        if ((time.getHours() < 10) && (time.getMinutes() < 10))
        {
            timeNow.innerHTML = "0" + time.getHours() + ":0" + time.getMinutes() + ",";
        }

        let l = time.getDay();
        let days2 = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];


        let k1 = document.querySelector("#firstd");
        l = l + 1;
        k1.innerHTML = days2[l % 7];

        let k2 = document.querySelector("#secondd");
        l = l + 1;
        k2.innerHTML = days2[l % 7];

        let k3 = document.querySelector("#thirdd");
        l = l + 1;
        k3.innerHTML = days2[l % 7];

        let k4 = document.querySelector("#fourthd");
        l = l + 1;
        k4.innerHTML = days2[l % 7];

        let k5 = document.querySelector("#fifthd");
        l = l + 1;
        k5.innerHTML = days2[l % 7];


        let input = document.querySelector("#city");
        let inpu = document.querySelector("#city-form");
        function go(event){
            event.preventDefault();
            let b = input.value;
            let city = document.querySelector("h1");
            city.innerHTML = b;

            let apiKey = "aab8d73ae7b8351615bbab455adf8231";
            let url = `https://api.openweathermap.org/data/2.5/weather?q=${b}&appid=${apiKey}&units=metric`;
            let apiUrl;


            function displayForecast(response)
            {
                let pic1 = document.querySelector("#firsti");
                pic1.innerHTML = " ";
                pic1.appendChild(document.createElement('img')).src = `http://openweathermap.org/img/wn/${response.data.list[1].weather[0].icon}@2x.png`;

                let pic2 = document.querySelector("#secondi");
                pic2.innerHTML = " ";
                pic2.appendChild(document.createElement('img')).src = `http://openweathermap.org/img/wn/${response.data.list[2].weather[0].icon}@2x.png`;

                let pic3 = document.querySelector("#thirdi");
                pic3.innerHTML = " ";
                pic3.appendChild(document.createElement('img')).src = `http://openweathermap.org/img/wn/${response.data.list[3].weather[0].icon}@2x.png`;

                let pic4 = document.querySelector("#fourthi");
                pic4.innerHTML = " ";
                pic4.appendChild(document.createElement('img')).src = `http://openweathermap.org/img/wn/${response.data.list[4].weather[0].icon}@2x.png`;

                let pic5 = document.querySelector("#fifthi");
                pic5.innerHTML = " ";
                pic5.appendChild(document.createElement('img')).src = `http://openweathermap.org/img/wn/${response.data.list[5].weather[0].icon}@2x.png`;


                
                let tem1 = document.querySelector("#firstt");
                tem1.innerHTML = `${Math.round(response.data.list[1].main.temp_max) - 273}°C  ${Math.round(response.data.list[1].main.temp_min) - 273}°C`;
                let tem2 = document.querySelector("#secondt");
                tem2.innerHTML = `${Math.round(response.data.list[2].main.temp_max) - 273}°C  ${Math.round(response.data.list[2].main.temp_min) - 273}°C`;
                let tem3 = document.querySelector("#thirdt");
                tem3.innerHTML = `${Math.round(response.data.list[3].main.temp_max) - 273}°C  ${Math.round(response.data.list[3].main.temp_min) - 273}°C`;
                let tem4 = document.querySelector("#fourtht");
                tem4.innerHTML = `${Math.round(response.data.list[4].main.temp_max) - 273}°C  ${Math.round(response.data.list[4].main.temp_min) - 273}°C`;
                let tem5 = document.querySelector("#fiftht");
                tem5.innerHTML = `${Math.round(response.data.list[5].main.temp_max) - 273}°C  ${Math.round(response.data.list[5].main.temp_min) - 273}°C`;
                
                console.log(response.data.list);
            }


            function forecast(coordinates)
            {
                apiUrl = `https://api.openweathermap.org/data/2.5/forecast?lat=${coordinates.data.coord.lat}&lon=${coordinates.data.coord.lon}&appid=${apiKey}`
                axios.get(apiUrl).then(displayForecast);
            }
            axios.get(url).then(forecast);


            function displayWeather(response) {
                let temp = document.querySelector("#val");
                let temperature = Math.round(response.data.main.temp);
                let description = response.data.weather[0].description;

                temp.innerHTML = `${temperature}°C `;
            }
            axios.get(url).then(displayWeather);

            function displaySun(response) {
                let temp = document.querySelector("#sun");
                let temperature = response.data.weather[0].main;
                let description = response.data;

                temp.innerHTML = temperature.toLowerCase();
            }
            axios.get(url).then(displaySun); 


            function displayHumidity(response) {
                let temp = document.querySelector("#hum");
                let temperature = response.data.main.humidity;
                let description = response.data;

                temp.innerHTML = `Humidity: ${temperature}% `;
            }
            axios.get(url).then(displayHumidity);

            function displayWind(response) {
                let temp = document.querySelector("#wid");
                let temperature = response.data.wind.speed;
                let description = response.data.wind[0];

                temp.innerHTML = `Wind: ${temperature} km/h `;
            }
            axios.get(url).then(displayWind);
        }
        inpu.addEventListener("submit", go);  

    </script>
  </body>
</html>
